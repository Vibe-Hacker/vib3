<!DOCTYPE html>
<html>
<head>
    <title>Diagnostic</title>
    <script>
        console.log('=== DIAGNOSTIC PAGE LOADED ===');
        
        // Intercept ALL errors
        window.addEventListener('error', function(e) {
            document.body.innerHTML += `<div style="color: red;">ERROR: ${e.message} from ${e.filename}</div>`;
            return true;
        }, true);
        
        // Log all scripts
        window.addEventListener('load', function() {
            const scripts = Array.from(document.scripts);
            document.body.innerHTML += '<h2>Scripts on this page:</h2>';
            scripts.forEach((script, i) => {
                const src = script.src || 'inline';
                document.body.innerHTML += `<div>${i}: ${src}</div>`;
            });
        });
    </script>
</head>
<body style="font-family: monospace; padding: 20px;">
    <h1>Diagnostic Page</h1>
    <p>This page has NO JavaScript files linked.</p>
    <button onclick="testCamera()">Test Camera</button>
    
    <script>
        function testCamera() {
            document.body.innerHTML += '<div>Testing camera...</div>';
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    document.body.innerHTML += '<div style="color: green;">SUCCESS: Camera accessed!</div>';
                    stream.getTracks().forEach(track => track.stop());
                })
                .catch(err => {
                    document.body.innerHTML += `<div style="color: red;">Camera Error: ${err.name} - ${err.message}</div>`;
                });
        }
    </script>
</body>
</html>